{"ast":null,"code":"var _jsxFileName = \"D:\\\\react-douban\\\\src\\\\shop\\\\shop.js\";\nimport React from 'react';\nimport './shop.css';\nimport Axios from 'axios';\n\nclass Shop extends React.Component {\n  constructor() {\n    super();\n\n    this.hide = e => {\n      console.log(e);\n      this.setState({\n        currentId: e.goods_id\n      });\n    };\n\n    this.othervisible = item => {\n      //\t\tconsole.log(item.id)\n      let param = new URLSearchParams();\n      let token = localStorage.getItem(\"token\");\n      param.append('token', token);\n      let newList = this.state.cart.filter(ditem => {\n        return item.id === ditem.id;\n      }); //\t\t\tconsole.log(newList)\n\n      let goods_id = newList[0].goods_id; //\t\tconsole.log(goods_id)\n\n      let attr_id = newList[0].attr_id;\n      param.append('goods_id', goods_id);\n      param.append('attr_id', attr_id);\n      Axios({\n        method: 'post',\n        url: 'http://shop.com/index.php/index/goods/cartDelete',\n        data: param\n      }).then(res => {\n        console.log(res.data.data.cart);\n        this.setState({\n          cart: res.data.data.cart\n        });\n      });\n    };\n\n    this.no = () => {\n      this.setState({\n        currentId: \"\"\n      });\n    };\n\n    this.add = () => {\n      var a = this.state.num;\n      this.setState({\n        num: ++a\n      });\n    };\n\n    this.weilei = e => {\n      var list = this.state.cart.forEach(item => {\n        if (item.isSelected) {\n          item.isSelected = false;\n        } else {\n          if (item.id === e.id) {\n            item.isSelected = true;\n          }\n        }\n      });\n      this.setState({\n        currentIndex: e.goods_id,\n        list: this.state.cart\n      });\n    };\n\n    this.cut = e => {\n      let token = localStorage.getItem('token');\n      Axios.post('http://shop.com/index.php/index/goods/cartDec', {\n        goods_id: e.goods_id,\n        attr_id: e.attr_id,\n        token: token,\n        count: this.state.num\n      }).then(res => {\n        console.log(res);\n        this.setState({\n          cart: res.data.data.cart\n        });\n      });\n      var a = this.state.num;\n\n      if (a < 2) {\n        a = 2;\n      }\n\n      this.setState({\n        num: --a\n      });\n    };\n\n    this.Fun = () => {\n      const param = new URLSearchParams();\n      const token = localStorage.getItem(\"token\");\n      param.append('token', token);\n      Axios({\n        method: 'post',\n        url: 'http://shop.com/index.php/index/goods/cartinfo',\n        data: param\n      }).then(res => {\n        console.log(res);\n        this.setState({\n          cart: res.data.data.cart.map((result, list) => {\n            result.id = list;\n            result.isSelected = false;\n            return result;\n          })\n        });\n      });\n    };\n\n    this.state = {\n      visible: false,\n      othervisible: true,\n      num: 1,\n      cart: [],\n      currentId: \"\",\n      currentIndex: \"\",\n      goodsArr: []\n    };\n  }\n\n  componentDidMount() {\n    this.Fun();\n  }\n\n  render() {\n    console.log(this.state.cart); //\t\tconsole.log(this.state.currentId)\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"only\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"\\u8C46\\u74E3\\xA0\\u8C46\\u54C1\"), React.createElement(\"div\", {\n      className: \"bigchecked\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"c01\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"\\u8C46\\u74E3\\u8C46\\u54C1\")), this.state.cart.map((val, index) => {\n      return React.createElement(\"div\", {\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, this.state.othervisible && React.createElement(\"div\", {\n        className: \"goodss\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"good\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        onClick: this.weilei.bind(this, val),\n        className: \"c \".concat(val.isSelected ? \"aaa\" : \"\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        alt: \"\",\n        src: val.pic,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"smallgood\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"font-a\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, val.name), React.createElement(\"div\", {\n        className: \"font-b\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, val.attr_name), React.createElement(\"b\", {\n        onClick: this.cut.bind(this, val),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"-\"), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, val.count), React.createElement(\"b\", {\n        onClick: this.add,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"+\")), React.createElement(\"span\", {\n        onClick: this.hide.bind(this, val),\n        className: \"span-a\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, \"\\u5220\\u9664\"), React.createElement(\"span\", {\n        className: \"span-b\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"\\uFFE5\", val.price)), this.state.currentId === val.goods_id ? React.createElement(\"div\", {\n        className: \"tip02\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"next\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        onClick: this.no,\n        className: \"quxiao\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"\\u53D6\\u6D88\"), React.createElement(\"div\", {\n        onClick: this.othervisible.bind(this, val),\n        className: \"querenshanchu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, \"\\u786E\\u8BA4\\u5220\\u9664\"))) : null));\n    })));\n  }\n\n}\n\nexport default Shop;","map":{"version":3,"sources":["D:\\react-douban\\src\\shop\\shop.js"],"names":["React","Axios","Shop","Component","constructor","hide","e","console","log","setState","currentId","goods_id","othervisible","item","param","URLSearchParams","token","localStorage","getItem","append","newList","state","cart","filter","ditem","id","attr_id","method","url","data","then","res","no","add","a","num","weilei","list","forEach","isSelected","currentIndex","cut","post","count","Fun","map","result","visible","goodsArr","componentDidMount","render","val","index","bind","pic","name","attr_name","price"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,YAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,MAAMC,IAAN,SAAmBF,KAAK,CAACG,SAAzB,CAAkC;AACjCC,EAAAA,WAAW,GAAE;AACZ;;AADY,SAabC,IAba,GAaPC,CAAD,IAAK;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACA,WAAKG,QAAL,CAAc;AACbC,QAAAA,SAAS,EAACJ,CAAC,CAACK;AADC,OAAd;AAGA,KAlBY;;AAAA,SAmBbC,YAnBa,GAmBCC,IAAD,IAAQ;AACtB;AACE,UAAIC,KAAK,GAAC,IAAIC,eAAJ,EAAV;AACA,UAAIC,KAAK,GAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAV;AACAJ,MAAAA,KAAK,CAACK,MAAN,CAAa,OAAb,EAAqBH,KAArB;AACA,UAAII,OAAO,GAAC,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,MAAhB,CAAwBC,KAAD,IAAS;AAC3C,eAAOX,IAAI,CAACY,EAAL,KAAUD,KAAK,CAACC,EAAvB;AACA,OAFW,CAAZ,CALoB,CAQtB;;AACE,UAAId,QAAQ,GAACS,OAAO,CAAC,CAAD,CAAP,CAAWT,QAAxB,CAToB,CAUtB;;AACE,UAAIe,OAAO,GAACN,OAAO,CAAC,CAAD,CAAP,CAAWM,OAAvB;AACAZ,MAAAA,KAAK,CAACK,MAAN,CAAa,UAAb,EAAwBR,QAAxB;AACAG,MAAAA,KAAK,CAACK,MAAN,CAAa,SAAb,EAAuBO,OAAvB;AACAzB,MAAAA,KAAK,CAAC;AACL0B,QAAAA,MAAM,EAAC,MADF;AAELC,QAAAA,GAAG,EAAC,kDAFC;AAGLC,QAAAA,IAAI,EAACf;AAHA,OAAD,CAAL,CAIGgB,IAJH,CAISC,GAAD,IAAO;AACdxB,QAAAA,OAAO,CAACC,GAAR,CAAYuB,GAAG,CAACF,IAAJ,CAASA,IAAT,CAAcP,IAA1B;AACA,aAAKb,QAAL,CAAc;AACba,UAAAA,IAAI,EAACS,GAAG,CAACF,IAAJ,CAASA,IAAT,CAAcP;AADN,SAAd;AAGA,OATD;AAUA,KA3CY;;AAAA,SA4CbU,EA5Ca,GA4CV,MAAI;AACN,WAAKvB,QAAL,CAAc;AACbC,QAAAA,SAAS,EAAC;AADG,OAAd;AAGA,KAhDY;;AAAA,SAiDbuB,GAjDa,GAiDT,MAAI;AACN,UAAIC,CAAC,GAAC,KAAKb,KAAL,CAAWc,GAAjB;AACA,WAAK1B,QAAL,CAAc;AACb0B,QAAAA,GAAG,EAAC,EAAED;AADO,OAAd;AAGD,KAtDY;;AAAA,SAuDbE,MAvDa,GAuDL9B,CAAD,IAAK;AACX,UAAI+B,IAAI,GAAC,KAAKhB,KAAL,CAAWC,IAAX,CAAgBgB,OAAhB,CAAyBzB,IAAD,IAAQ;AACxC,YAAGA,IAAI,CAAC0B,UAAR,EAAmB;AAClB1B,UAAAA,IAAI,CAAC0B,UAAL,GAAgB,KAAhB;AACA,SAFD,MAEK;AAEJ,cAAG1B,IAAI,CAACY,EAAL,KAAUnB,CAAC,CAACmB,EAAf,EAAkB;AACjBZ,YAAAA,IAAI,CAAC0B,UAAL,GAAgB,IAAhB;AAEA;AACD;AACD,OAVQ,CAAT;AAYA,WAAK9B,QAAL,CAAc;AACb+B,QAAAA,YAAY,EAAClC,CAAC,CAACK,QADF;AAEb0B,QAAAA,IAAI,EAAC,KAAKhB,KAAL,CAAWC;AAFH,OAAd;AAKA,KAzEY;;AAAA,SA0EbmB,GA1Ea,GA0ERnC,CAAD,IAAK;AACR,UAAIU,KAAK,GAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAV;AACMjB,MAAAA,KAAK,CAACyC,IAAN,CAAW,+CAAX,EAA2D;AAC1D/B,QAAAA,QAAQ,EAACL,CAAC,CAACK,QAD+C;AAE1De,QAAAA,OAAO,EAACpB,CAAC,CAACoB,OAFgD;AAG1DV,QAAAA,KAAK,EAACA,KAHoD;AAI1D2B,QAAAA,KAAK,EAAC,KAAKtB,KAAL,CAAWc;AAJyC,OAA3D,EAMGL,IANH,CAMSC,GAAD,IAAO;AACdxB,QAAAA,OAAO,CAACC,GAAR,CAAYuB,GAAZ;AACA,aAAKtB,QAAL,CAAc;AACba,UAAAA,IAAI,EAACS,GAAG,CAACF,IAAJ,CAASA,IAAT,CAAcP;AADN,SAAd;AAGA,OAXD;AAcN,UAAIY,CAAC,GAAC,KAAKb,KAAL,CAAWc,GAAjB;;AACA,UAAGD,CAAC,GAAC,CAAL,EAAO;AACNA,QAAAA,CAAC,GAAC,CAAF;AACA;;AACD,WAAKzB,QAAL,CAAc;AACb0B,QAAAA,GAAG,EAAC,EAAED;AADO,OAAd;AAGA,KAjGY;;AAAA,SAqGbU,GArGa,GAqGT,MAAI;AACP,YAAM9B,KAAK,GAAC,IAAIC,eAAJ,EAAZ;AACA,YAAMC,KAAK,GAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AACAJ,MAAAA,KAAK,CAACK,MAAN,CAAa,OAAb,EAAqBH,KAArB;AAEAf,MAAAA,KAAK,CAAC;AACL0B,QAAAA,MAAM,EAAC,MADF;AAELC,QAAAA,GAAG,EAAC,gDAFC;AAGLC,QAAAA,IAAI,EAACf;AAHA,OAAD,CAAL,CAIGgB,IAJH,CAISC,GAAD,IAAO;AACdxB,QAAAA,OAAO,CAACC,GAAR,CAAYuB,GAAZ;AAEA,aAAKtB,QAAL,CAAc;AACba,UAAAA,IAAI,EAACS,GAAG,CAACF,IAAJ,CAASA,IAAT,CAAcP,IAAd,CAAmBuB,GAAnB,CAAuB,CAACC,MAAD,EAAQT,IAAR,KAAe;AAC1CS,YAAAA,MAAM,CAACrB,EAAP,GAAUY,IAAV;AACAS,YAAAA,MAAM,CAACP,UAAP,GAAkB,KAAlB;AACA,mBACCO,MADD;AAGA,WANI;AADQ,SAAd;AASA,OAhBD;AAkBA,KA5HY;;AAEZ,SAAKzB,KAAL,GAAW;AACV0B,MAAAA,OAAO,EAAC,KADE;AAEVnC,MAAAA,YAAY,EAAC,IAFH;AAGVuB,MAAAA,GAAG,EAAC,CAHM;AAIVb,MAAAA,IAAI,EAAC,EAJK;AAKVZ,MAAAA,SAAS,EAAC,EALA;AAMV8B,MAAAA,YAAY,EAAC,EANH;AAOVQ,MAAAA,QAAQ,EAAC;AAPC,KAAX;AAUA;;AAsFDC,EAAAA,iBAAiB,GAAE;AAClB,SAAKL,GAAL;AACA;;AAyBDM,EAAAA,MAAM,GAAE;AACP3C,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKa,KAAL,CAAWC,IAAvB,EADO,CAET;;AACE,WACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADD,EAEC;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,EAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAFD,CAFD,EAME,KAAKD,KAAL,CAAWC,IAAX,CAAgBuB,GAAhB,CAAoB,CAACM,GAAD,EAAKC,KAAL,KAAa;AACjC,aACC;AAAK,QAAA,GAAG,EAAEA,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,KAAK/B,KAAL,CAAWT,YAAX,IACD;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAM,QAAA,OAAO,EAAE,KAAKwB,MAAL,CAAYiB,IAAZ,CAAiB,IAAjB,EAAsBF,GAAtB,CAAf;AAA2C,QAAA,SAAS,cAAOA,GAAG,CAACZ,UAAJ,GAAe,KAAf,GAAqB,EAA5B,CAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAEC;AAAK,QAAA,GAAG,EAAC,EAAT;AAAY,QAAA,GAAG,EAAEY,GAAG,CAACG,GAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFD,EAGC;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyBH,GAAG,CAACI,IAA7B,CADD,EAEC;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyBJ,GAAG,CAACK,SAA7B,CAFD,EAGC;AAAG,QAAA,OAAO,EAAE,KAAKf,GAAL,CAASY,IAAT,CAAc,IAAd,EAAmBF,GAAnB,CAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAHD,EAIC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAOA,GAAG,CAACR,KAAX,CAJD,EAKC;AAAG,QAAA,OAAO,EAAE,KAAKV,GAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aALD,CAHD,EAUC;AAAM,QAAA,OAAO,EAAE,KAAK5B,IAAL,CAAUgD,IAAV,CAAe,IAAf,EAAoBF,GAApB,CAAf;AAAyC,QAAA,SAAS,EAAC,QAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAVD,EAWC;AAAM,QAAA,SAAS,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAA2BA,GAAG,CAACM,KAA/B,CAXD,CADD,EAcE,KAAKpC,KAAL,CAAWX,SAAX,KAAuByC,GAAG,CAACxC,QAA3B,GACA;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,OAAO,EAAE,KAAKqB,EAAnB;AAAuB,QAAA,SAAS,EAAC,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADD,EAEC;AAAK,QAAA,OAAO,EAAE,KAAKpB,YAAL,CAAkByC,IAAlB,CAAuB,IAAvB,EAA4BF,GAA5B,CAAd;AAAgD,QAAA,SAAS,EAAC,eAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAFD,CADA,CADA,GAQA,IAtBF,CAFA,CADD;AA+BA,KAhCA,CANF,CADD,CADD;AA4CA;;AA7KgC;;AAgLlC,eAAejD,IAAf","sourcesContent":["import React from 'react';\r\nimport './shop.css';\r\nimport Axios from 'axios';\r\nclass Shop extends React.Component{\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t\tthis.state={\r\n\t\t\tvisible:false,\r\n\t\t\tothervisible:true,\r\n\t\t\tnum:1,\r\n\t\t\tcart:[],\r\n\t\t\tcurrentId:\"\",\r\n\t\t\tcurrentIndex:\"\",\r\n\t\t\tgoodsArr:[],\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\thide=(e)=>{\r\n\t\tconsole.log(e)\r\n\t\tthis.setState({\r\n\t\t\tcurrentId:e.goods_id\r\n\t\t})\r\n\t}\r\n\tothervisible=(item)=>{\r\n//\t\tconsole.log(item.id)\r\n\t\tlet param=new URLSearchParams();\r\n\t\tlet token=localStorage.getItem(\"token\")\r\n\t\tparam.append('token',token)\r\n\t\tlet newList=this.state.cart.filter((ditem)=>{\r\n\t\t\treturn item.id===ditem.id\r\n\t\t})\r\n//\t\t\tconsole.log(newList)\r\n\t\tlet goods_id=newList[0].goods_id\r\n//\t\tconsole.log(goods_id)\r\n\t\tlet attr_id=newList[0].attr_id\r\n\t\tparam.append('goods_id',goods_id)\r\n\t\tparam.append('attr_id',attr_id)\r\n\t\tAxios({\r\n\t\t\tmethod:'post',\r\n\t\t\turl:'http://shop.com/index.php/index/goods/cartDelete',\r\n\t\t\tdata:param\r\n\t\t}).then((res)=>{\r\n\t\t\tconsole.log(res.data.data.cart)\r\n\t\t\tthis.setState({\r\n\t\t\t\tcart:res.data.data.cart\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\tno=()=>{\r\n\t\tthis.setState({\r\n\t\t\tcurrentId:\"\"\r\n\t\t})\r\n\t}\r\n\tadd=()=>{\r\n\t \tvar a=this.state.num\r\n\t \tthis.setState({\r\n\t \t\tnum:++a\r\n\t \t})\r\n\t}\r\n\tweilei=(e)=>{\r\n\t\tvar list=this.state.cart.forEach((item)=>{\r\n\t\t\tif(item.isSelected){\r\n\t\t\t\titem.isSelected=false\r\n\t\t\t}else{\r\n\t\t\t\t\r\n\t\t\t\tif(item.id===e.id){\r\n\t\t\t\t\titem.isSelected=true\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\tcurrentIndex:e.goods_id,\r\n\t\t\tlist:this.state.cart\r\n\t\t\t\r\n\t\t})\r\n\t}\r\n\tcut=(e)=>{\r\n\t\tlet token=localStorage.getItem('token')\r\n        Axios.post('http://shop.com/index.php/index/goods/cartDec',{\r\n        \tgoods_id:e.goods_id,\r\n        \tattr_id:e.attr_id,\r\n        \ttoken:token,\r\n        \tcount:this.state.num\r\n        \t\r\n        }).then((res)=>{\r\n        \tconsole.log(res)\r\n        \tthis.setState({\r\n        \t\tcart:res.data.data.cart\r\n        \t})\r\n        })\r\n        \r\n\t\t\r\n\t\tvar a=this.state.num\r\n\t\tif(a<2){\r\n\t\t\ta=2\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tnum:--a\r\n\t\t})\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tthis.Fun()\r\n\t}\r\n\tFun=()=>{\r\n\t\tconst param=new URLSearchParams();\r\n\t\tconst token=localStorage.getItem(\"token\")\r\n\t\tparam.append('token',token)\r\n\t\t\r\n\t\tAxios({\r\n\t\t\tmethod:'post',\r\n\t\t\turl:'http://shop.com/index.php/index/goods/cartinfo',\r\n\t\t\tdata:param\r\n\t\t}).then((res)=>{\r\n\t\t\tconsole.log(res)\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\tcart:res.data.data.cart.map((result,list)=>{\r\n\t\t\t\t\tresult.id=list\r\n\t\t\t\t\tresult.isSelected=false\r\n\t\t\t\t\treturn(\r\n\t\t\t\t\t\tresult\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t})\r\n\t\t\r\n\t}\r\n\trender(){\r\n\t\tconsole.log(this.state.cart)\r\n//\t\tconsole.log(this.state.currentId)\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"only\">\r\n\t\t\t\t\t<div className=\"top\">豆瓣&nbsp;豆品</div>\r\n\t\t\t\t\t<div className=\"bigchecked\">\r\n\t\t\t\t\t\t<div className=\"c01\"></div>\r\n\t\t\t\t\t\t<span>豆瓣豆品</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{this.state.cart.map((val,index)=>{\r\n\t\t\t\t\t\treturn(\r\n\t\t\t\t\t\t\t<div key={index}>\r\n\t\t\t\t\t\t\t{this.state.othervisible&&\r\n\t\t\t\t\t\t\t<div className=\"goodss\">\r\n\t\t\t\t\t\t\t\t<div className=\"good\">\r\n\t\t\t\t\t\t\t\t\t<div  onClick={this.weilei.bind(this,val)} className={`c ${val.isSelected?\"aaa\":\"\"}`}></div>\r\n\t\t\t\t\t\t\t\t\t<img alt=\"\" src={val.pic} />\r\n\t\t\t\t\t\t\t\t\t<div className=\"smallgood\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"font-a\">{val.name}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"font-b\">{val.attr_name}</div>\r\n\t\t\t\t\t\t\t\t\t\t<b onClick={this.cut.bind(this,val)}>-</b>\r\n\t\t\t\t\t\t\t\t\t\t<span>{val.count}</span>\r\n\t\t\t\t\t\t\t\t\t\t<b onClick={this.add}>+</b>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<span onClick={this.hide.bind(this,val)} className=\"span-a\">删除</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"span-b\">￥{val.price}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{this.state.currentId===val.goods_id? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"tip02\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"next\">\r\n\t\t\t\t\t\t\t\t\t\t<div onClick={this.no} className=\"quxiao\">取消</div>\r\n\t\t\t\t\t\t\t\t\t\t<div onClick={this.othervisible.bind(this,val)} className=\"querenshanchu\">确认删除</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</div>}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Shop;"]},"metadata":{},"sourceType":"module"}